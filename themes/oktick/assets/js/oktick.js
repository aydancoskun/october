function set_str_status_msg(message){$("#str_status_msg").html(decodeURIComponent(message)+"&nbsp;")}function isNumeric(n){return!isNaN(parseFloat(n))&&isFinite(n)}function searchSubmit(){$("#autocomplete-ajax").css({background:"url('app/ot/assets/img/searchip.gif') no-repeat right center"}),$("#str_status_msg").html($("#str_status_msg_searchSubmit").html()+"&nbsp;");var queryvalue=encodeURIComponent(get_clean_value("autocomplete-ajax")),url="/submit/"+queryvalue;$.get(url,function(data){$("#results-container").html(data),$("#autocomplete-ajax").css({background:"url('app/ot/assets/img/searchoff.gif') no-repeat right center"}),reset_search_box_glow(),$("#str_status_msg").html("&nbsp;"),dotdotdot_init()})}function get_clean_value(id){var tmp=document.getElementById(id).value;return tmp=tmp.replace(/\//g," "),tmp=encodeURIComponent(tmp)}function get_clean_innerHTML(id){var tmp=document.getElementById(id).innerHTML;return tmp=tmp.replace(/\//g," "),tmp=encodeURIComponent(tmp)}function search_reset(){$("#autocomplete-suggestions").hide(),$("#results-container").html(""),$("#autocomplete-ajax").css({background:"url('app/ot/assets/img/searchoff.gif') no-repeat right center"}),reset_search_box_glow(),$("#str_status_msg").html("&nbsp;"),$("#str_status_msg_onSearchStart").html("&nbsp;"),$("#str_status_msg_onSelect").html("&nbsp;"),$("#str_status_msg_searchSubmit").html("&nbsp;"),$("#str_message").html("&nbsp;"),$("#str_message").hide(),$("#main-tab-title").click(),$("#autocomplete-ajax").val(""),$("#tabbed_content").hide(),$("#results").hide(),$("#autocomplete-ajax").focus()}function reset_search_box_glow(){$("#autocomplete-ajax").removeClass("no-glow")}function remove_search_box_glow(){$("#autocomplete-ajax").addClass("no-glow")}function convert_links_to_ajax(){var menu="/_";menu.length,$("a, area").click(function(){var href=$(this).attr("href");if("#"==href)return!0;var is_menu=strpos(href,menu);return is_menu!==!1?!0:href.indexOf(document.domain)>-1||-1===href.indexOf(":")?(history.pushState({},"",href),$.get(href),!1):void 0})}function readmore_init(){}function dotdotdot_init(){$(".dot-dot-dot").each(function(){$(this).dotdotdot({ellipsis:"...",watch:!0,wrap:"word",fallbackToLetter:!0,height:1*parseInt($(".dot-dot-dot").css("line-height"),10)})})}function str_replace(search,replace,subject){return subject.split(search).join(replace)}function strpos(haystack,needle,offset){var i=(haystack+"").indexOf(needle,offset||0);return-1===i?!1:i}function createCookie(days,dev){var value="On",expires="";if(dev&&console.log("Cookie Law Init: createCookie"),days){var date=new Date;date.setTime(date.getTime()+1e3*60*60*24*days),expires="; expires="+date.toGMTString()}document.cookie="CookieComplianceCookie="+value+expires+"; path=/"}function getCookieValue(dev){for(var nameEQ="CookieComplianceCookie=",ca=document.cookie.split(";"),i=0;ca.length>i;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(nameEQ))return dev&&console.log("Cookie Law Init: getCookieValue='"+c.substring(nameEQ.length,c.length)+"'"),c.substring(nameEQ.length,c.length)}return dev&&console.log("Cookie Law Init: getCookieValue=Cookie does not exist"),null}function eraseCookie(name,dev){dev&&console.log("Cookie Law Init: eraseCookie"),createCookie(-1,dev)}function confirm_password(){BootstrapDialog.show({message:'Your most favorite fruit: <input type="text" class="form-control">',onhide:function(dialogRef){var fruit=dialogRef.getModalBody().find("input").val();return"banana"!==$.trim(fruit.toLowerCase())?(alert("Need banana!"),!1):void 0},buttons:[{label:"Close",action:function(dialogRef){dialogRef.close()}}]})}if(void 0===window.jQuery)throw Error("The jQuery library is not loaded. The October CMS framework cannot be initialized.");+function($){"use strict";function paramToObj(name,value){if(void 0===value&&(value=""),"object"==typeof value)return value;try{return JSON.parse(JSON.stringify(eval("({"+value+"})")))}catch(e){throw Error("Error parsing the "+name+" attribute value. "+e)}}var Request=function(element,handler,options){function handleConfirmMessage(message){var _event=jQuery.Event("ajaxConfirmMessage");return _event.promise=$.Deferred(),void 0!==$(window).triggerHandler(_event,[message])?(_event.promise.done(function(){options.confirm=null,new Request(element,handler,options)}),!1):_event.isDefaultPrevented()?void 0:message?confirm(message):void 0}var $el=this.$el=$(element);if(this.options=options||{},void 0==handler)throw Error("The request handler name is not specified.");if(!handler.match(/^(?:\w+\:{2})?on*/))throw Error('Invalid handler name. The correct handler name format is: "onEvent".');if(!options.confirm||handleConfirmMessage(options.confirm)){var form=$el.closest("form"),context={handler:handler,options:options},loading=void 0!==options.loading&&options.loading.length?$(options.loading):null,isRedirect=void 0!==options.redirect&&options.redirect.length,_event=jQuery.Event("oc.beforeRequest");if(form.trigger(_event,context),!_event.isDefaultPrevented()){var data=[form.serialize()];if($.each($el.parents("[data-request-data]").toArray().reverse(),function extendReque(){data.push($.param(paramToObj("data-request-data",$(this).data("request-data"))))}),$el.is(":input")&&!form.length){var inputName=$el.attr("name");void 0===options.data[inputName]&&(options.data[inputName]=$el.val())}void 0===options.data||$.isEmptyObject(options.data)||data.push($.param(options.data));var requestOptions={context:context,headers:{"X-OCTOBER-REQUEST-HANDLER":handler,"X-OCTOBER-REQUEST-PARTIALS":this.extractPartials(options.update)},success:function(data,textStatus,jqXHR){if(this.options.beforeUpdate.apply(this,[data,textStatus,jqXHR])!==!1&&(!options.evalBeforeUpdate||eval("(function($el, context, data, textStatus, jqXHR) {"+options.evalBeforeUpdate+"}.call($el.get(0), $el, context, data, textStatus, jqXHR))")!==!1)){var _event=jQuery.Event("ajaxBeforeUpdate");if(form.trigger(_event,[context,data,textStatus,jqXHR]),!_event.isDefaultPrevented()){var updatePromise=requestOptions.handleUpdateResponse(data,textStatus,jqXHR);return updatePromise.done(function(){form.trigger("ajaxSuccess",[context,data,textStatus,jqXHR]),options.evalSuccess&&eval("(function($el, context, data, textStatus, jqXHR) {"+options.evalSuccess+"}.call($el.get(0), $el, context, data, textStatus, jqXHR))")}),updatePromise}}},error:function(jqXHR,textStatus,errorThrown){var errorMsg,updatePromise=$.Deferred();if(!(void 0!==window.ocUnloading&&window.ocUnloading||"abort"==errorThrown))return isRedirect=!1,options.redirect=null,406==jqXHR.status&&jqXHR.responseJSON?(errorMsg=jqXHR.responseJSON.X_OCTOBER_ERROR_MESSAGE,updatePromise=requestOptions.handleUpdateResponse(jqXHR.responseJSON,textStatus,jqXHR)):(errorMsg=jqXHR.responseText?jqXHR.responseText:jqXHR.statusText,updatePromise.resolve()),updatePromise.done(function(){$el.data("error-message",errorMsg);var _event=jQuery.Event("ajaxError");form.trigger(_event,[context,textStatus,jqXHR]),_event.isDefaultPrevented()||options.evalError&&eval("(function($el, context, textStatus, jqXHR) {"+options.evalError+"}.call($el.get(0), $el, context, textStatus, jqXHR))")===!1||requestOptions.handleErrorMessage(errorMsg)}),updatePromise},complete:function(data,textStatus,jqXHR){form.trigger("ajaxComplete",[context,data,textStatus,jqXHR]),options.evalComplete&&eval("(function($el, context, data, textStatus, jqXHR) {"+options.evalComplete+"}.call($el.get(0), $el, context, data, textStatus, jqXHR))")},handleErrorMessage:function(message){var _event=jQuery.Event("ajaxErrorMessage");$(window).trigger(_event,[message]),_event.isDefaultPrevented()||message&&alert(message)},handleUpdateResponse:function(data,textStatus,jqXHR){var updatePromise=$.Deferred().done(function(){for(var partial in data){var selector=options.update[partial]?options.update[partial]:partial;"string"==jQuery.type(selector)&&"@"==selector.charAt(0)?$(selector.substring(1)).append(data[partial]).trigger("ajaxUpdate",[context,data,textStatus,jqXHR]):"string"==jQuery.type(selector)&&"^"==selector.charAt(0)?$(selector.substring(1)).prepend(data[partial]).trigger("ajaxUpdate",[context,data,textStatus,jqXHR]):($(selector).trigger("ajaxBeforeReplace"),$(selector).html(data[partial]).trigger("ajaxUpdate",[context,data,textStatus,jqXHR]))}setTimeout(function(){$(window).trigger("ajaxUpdateComplete",[context,data,textStatus,jqXHR]).trigger("resize")},0)});if(data.X_OCTOBER_REDIRECT&&(options.redirect=data.X_OCTOBER_REDIRECT,isRedirect=!0),isRedirect&&(window.location.href=options.redirect),data.X_OCTOBER_ERROR_FIELDS){var isFirstInvalidField=!0;$.each(data.X_OCTOBER_ERROR_FIELDS,function(fieldName,fieldMessages){var fieldElement=form.find('[name="'+fieldName+'"], [name="'+fieldName+'[]"], [name$="['+fieldName+']"], [name$="['+fieldName+'][]"]').filter(":enabled").first();if(fieldElement.length>0){var _event=jQuery.Event("ajaxInvalidField");$(window).trigger(_event,[fieldElement.get(0),fieldName,fieldMessages,isFirstInvalidField]),isFirstInvalidField&&(_event.isDefaultPrevented()||fieldElement.focus(),isFirstInvalidField=!1)}})}return data.X_OCTOBER_ASSETS?assetManager.load(data.X_OCTOBER_ASSETS,$.proxy(updatePromise.resolve,updatePromise)):updatePromise.resolve(),updatePromise}};return context.success=requestOptions.success,context.error=requestOptions.error,context.complete=requestOptions.complete,requestOptions=$.extend(requestOptions,options),requestOptions.data=data.join("&"),loading&&loading.show(),$(window).trigger("ajaxBeforeSend",[context]),$el.trigger("ajaxPromise",[context]),$.ajax(requestOptions).fail(function(jqXHR,textStatus){isRedirect||($el.trigger("ajaxFail",[context,textStatus,jqXHR]),loading&&loading.hide())}).done(function(data,textStatus,jqXHR){isRedirect||($el.trigger("ajaxDone",[context,data,textStatus,jqXHR]),loading&&loading.hide())}).always(function(dataOrXhr,textStatus,xhrOrError){$el.trigger("ajaxAlways",[context,dataOrXhr,textStatus,xhrOrError])})}}};Request.DEFAULTS={update:{},type:"POST",beforeUpdate:function(){},evalBeforeUpdate:null,evalSuccess:null,evalError:null,evalComplete:null},Request.prototype.extractPartials=function(update){var result=[];for(var partial in update)result.push(partial);return result.join("&")};var old=$.fn.request;$.fn.request=function(handler,option){var $this=$(this).first(),data={evalBeforeUpdate:$this.data("request-before-update"),evalSuccess:$this.data("request-success"),evalError:$this.data("request-error"),evalComplete:$this.data("request-complete"),confirm:$this.data("request-confirm"),redirect:$this.data("request-redirect"),loading:$this.data("request-loading"),update:paramToObj("data-request-update",$this.data("request-update")),data:paramToObj("data-request-data",$this.data("request-data"))};handler||(handler=$this.data("request"));var options=$.extend(!0,{},Request.DEFAULTS,data,"object"==typeof option&&option);return new Request($this,handler,options)},$.fn.request.Constructor=Request,$.request=function(handler,option){return $("<form />").request(handler,option)},$.fn.request.noConflict=function(){return $.fn.request=old,this},$(document).on("change","select[data-request], input[type=radio][data-request], input[type=checkbox][data-request]",function documentOnChange(){$(this).request()}),$(document).on("click","a[data-request], button[data-request], input[type=button][data-request], input[type=submit][data-request]",function documentOnClick(){return $(this).request(),!1}),$(document).on("keydown","input[type=text][data-request], input[type=submit][data-request], input[type=password][data-request]",function documentOnKeydown(e){return 13==e.keyCode?(void 0!==this.dataTrackInputTimer&&window.clearTimeout(this.dataTrackInputTimer),$(this).request(),!1):void 0}),$(document).on("keyup","input[data-request][data-track-input]",function documentOnKeyup(){if($(this).is("[type=email],[type=number],[type=password],[type=search],[type=text]")){var $el=$(this),lastValue=$el.data("oc.lastvalue");if(void 0===lastValue||lastValue!=this.value){$el.data("oc.lastvalue",this.value),void 0!==this.dataTrackInputTimer&&window.clearTimeout(this.dataTrackInputTimer);var interval=$(this).data("track-input");interval||(interval=300);var self=this;this.dataTrackInputTimer=window.setTimeout(function(){$(self).request()},interval)}}}),$(document).on("submit","[data-request]",function documentOnsubmit(){return $(this).request(),!1}),$(window).on("beforeunload",function documentOnBeforeunload(){window.ocUnloading=!0}),$(document).ready(function triggerRenderOnReady(){$(document).trigger("render")}),$(window).on("ajaxUpdateComplete",function triggerRenderOnAjaxUpdateComplete(){$(document).trigger("render")}),$.fn.render=function(callback){$(document).on("render",callback)}}(window.jQuery),+function($){"use strict";void 0===$.oc&&($.oc={});var StripeLoadIndicator=function(){this.counter=0,this.indicator=$("<div/>").addClass("stripe-loading-indicator loaded").append($("<div />").addClass("stripe")).append($("<div />").addClass("stripe-loaded")),this.stripe=this.indicator.find(".stripe"),$(document.body).append(this.indicator)};StripeLoadIndicator.prototype.show=function(){this.counter++,this.stripe.after(this.stripe=this.stripe.clone()).remove(),this.counter>1||(this.indicator.removeClass("loaded"),$(document.body).addClass("oc-loading"))},StripeLoadIndicator.prototype.hide=function(force){this.counter--,void 0!==force&&force&&(this.counter=0),0>=this.counter&&(this.indicator.addClass("loaded"),$(document.body).removeClass("oc-loading"))},$(document).ready(function(){$.oc.stripeLoadIndicator=new StripeLoadIndicator}),$(document).on("ajaxPromise","[data-request]",function(event){event.stopPropagation(),$.oc.stripeLoadIndicator.show();var $el=$(this);$(window).one("ajaxUpdateComplete",function(){0===$el.closest("html").length&&$.oc.stripeLoadIndicator.hide()})}).on("ajaxFail ajaxDone","[data-request]",function(event){event.stopPropagation(),$.oc.stripeLoadIndicator.hide()})}(window.jQuery),function(factory){"use strict";"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){"use strict";function Autocomplete(el,options){var noop=function(){},that=this,defaults={autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:Autocomplete.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:noop,onSearchComplete:noop,onSearchError:noop,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(suggestion,originalQuery,queryLowerCase){return-1!==suggestion.value.toLowerCase().indexOf(queryLowerCase)},paramName:"query",transformResult:function(response){return"string"==typeof response?$.parseJSON(response):response}};that.element=el,that.el=$(el),that.suggestions=[],that.badQueries=[],that.selectedIndex=-1,that.currentValue=that.element.value,that.intervalId=0,that.cachedResponse={},that.onChangeInterval=null,that.isLocal=!1,that.suggestionsContainer=null,that.options=$.extend({},defaults,options),that.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},that.hint=null,that.hintValue="",that.selection=null,that.initialize(),that.setOptions(options)}var utils=function(){return{escapeRegExChars:function(value){return value.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(containerClass){var div=document.createElement("div");return div.className=containerClass,div.style.position="absolute",div.style.display="none",div}}}(),keys={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};Autocomplete.utils=utils,$.Autocomplete=Autocomplete,Autocomplete.formatResult=function(suggestion,currentValue){var pattern="("+utils.escapeRegExChars(currentValue)+")";return suggestion.value.replace(RegExp(pattern,"gi"),"<strong>$1</strong>")},Autocomplete.prototype={killerFn:null,initialize:function(){var container,that=this,suggestionSelector="."+that.classes.suggestion,selected=that.classes.selected,options=that.options;that.element.setAttribute("autocomplete","off"),that.killerFn=function(e){0===$(e.target).closest("."+that.options.containerClass).length&&(that.killSuggestions(),that.disableKillerFn())},that.suggestionsContainer=Autocomplete.utils.createNode(options.containerClass),container=$(that.suggestionsContainer),container.appendTo(options.appendTo),"auto"!==options.width&&container.width(options.width),container.on("mouseover.autocomplete",suggestionSelector,function(){that.activate($(this).data("index"))}),container.on("mouseout.autocomplete",function(){that.selectedIndex=-1,container.children("."+selected).removeClass(selected)}),container.on("click.autocomplete",suggestionSelector,function(){that.select($(this).data("index"))}),that.fixPosition(),that.fixPositionCapture=function(){that.visible&&that.fixPosition()},$(window).on("resize.autocomplete",that.fixPositionCapture),that.el.on("keydown.autocomplete",function(e){that.onKeyPress(e)}),that.el.on("keyup.autocomplete",function(e){that.onKeyUp(e)}),that.el.on("blur.autocomplete",function(){that.onBlur()}),that.el.on("focus.autocomplete",function(){that.onFocus()}),that.el.on("change.autocomplete",function(e){that.onKeyUp(e)})},onFocus:function(){var that=this;that.fixPosition(),that.options.minChars<=that.el.val().length},onBlur:function(){this.enableKillerFn()},setOptions:function(suppliedOptions){var that=this,options=that.options;$.extend(options,suppliedOptions),that.isLocal=$.isArray(options.lookup),that.isLocal&&(options.lookup=that.verifySuggestionsFormat(options.lookup)),$(that.suggestionsContainer).css({"max-height":options.maxHeight+"px",width:options.width+"px","z-index":options.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var that=this;that.disabled=!0,that.currentRequest&&that.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var offset,styles,that=this;"body"===that.options.appendTo&&(offset=that.el.offset(),styles={top:offset.top+that.el.outerHeight()+"px",left:offset.left+"px"},"auto"===that.options.width&&(styles.width=that.el.outerWidth()-2+61+"px"),$(that.suggestionsContainer).css(styles))},enableKillerFn:function(){var that=this;$(document).on("click.autocomplete",that.killerFn)},disableKillerFn:function(){var that=this;$(document).off("click.autocomplete",that.killerFn)},killSuggestions:function(){var that=this;that.stopKillSuggestions(),that.intervalId=window.setInterval(function(){that.hide(),that.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var range,that=this,valLength=that.el.val().length,selectionStart=that.element.selectionStart;return"number"==typeof selectionStart?selectionStart===valLength:document.selection?(range=document.selection.createRange(),range.moveStart("character",-valLength),valLength===range.text.length):!0},onKeyPress:function(e){var that=this;if(!that.disabled&&!that.visible&&e.which===keys.DOWN&&that.currentValue)return that.suggest(),void 0;if(!that.disabled&&that.visible){switch(e.which){case keys.ESC:that.el.val(that.currentValue),that.hide();break;case keys.RIGHT:if(that.hint&&that.options.onHint&&that.isCursorAtEnd()){that.selectHint();break}return;case keys.TAB:if(that.hint&&that.options.onHint)return that.selectHint(),void 0;case keys.RETURN:if(-1===that.selectedIndex)return that.hide(),void 0;if(that.select(that.selectedIndex),e.which===keys.TAB&&that.options.tabDisabled===!1)return;break;case keys.UP:that.moveUp();break;case keys.DOWN:that.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}},onKeyUp:function(e){var that=this;if(!that.disabled){switch(e.which){case keys.UP:case keys.DOWN:return}clearInterval(that.onChangeInterval),that.currentValue!==that.el.val()&&(that.findBestHint(),that.options.deferRequestBy>0?that.onChangeInterval=setInterval(function(){that.onValueChange()},that.options.deferRequestBy):that.onValueChange())}},onValueChange:function(){var index,that=this,options=that.options,value=that.el.val(),query=that.getQuery(value);return that.selection&&(that.selection=null,(options.onInvalidateSelection||$.noop).call(that.element)),clearInterval(that.onChangeInterval),that.currentValue=value,that.selectedIndex=-1,options.triggerSelectOnValidInput&&(index=that.findSuggestionIndex(query),-1!==index)?(that.select(index),void 0):(query.length<options.minChars?(that.hide(),search_reset()):that.getSuggestions(query),void 0)},findSuggestionIndex:function(query){var that=this,index=-1,queryLowerCase=query.toLowerCase();return $.each(that.suggestions,function(i,suggestion){return suggestion.value.toLowerCase()===queryLowerCase?(index=i,!1):void 0}),index},getQuery:function(value){var parts,delimiter=this.options.delimiter;return delimiter?(parts=value.split(delimiter),$.trim(parts[parts.length-1])):value},getSuggestionsLocal:function(query){var data,that=this,options=that.options,queryLowerCase=query.toLowerCase(),filter=options.lookupFilter,limit=parseInt(options.lookupLimit,10);return data={suggestions:$.grep(options.lookup,function(suggestion){return filter(suggestion,query,queryLowerCase)})},limit&&data.suggestions.length>limit&&(data.suggestions=data.suggestions.slice(0,limit)),data},getSuggestions:function(q){var response,params,cacheKey,that=this,options=that.options,serviceUrl=options.serviceUrl;if(options.params[options.paramName]=q,params=options.ignoreParams?null:options.params,that.isLocal?response=that.getSuggestionsLocal(q):($.isFunction(serviceUrl)&&(serviceUrl=serviceUrl.call(that.element,q)),cacheKey=serviceUrl+"?"+$.param(params||{}),response=that.cachedResponse[cacheKey]),response&&$.isArray(response.suggestions))that.suggestions=response.suggestions,that.suggest();else if(!that.isBadQuery(q)){if(options.onSearchStart.call(that.element,options.params)===!1)return;that.currentRequest&&that.currentRequest.abort(),that.currentRequest=$.ajax({url:that.get_serviceUrl(q)}).done(function(data){var result;that.currentRequest=null,result=options.transformResult(data),that.processResponse(result,q,cacheKey),options.onSearchComplete.call(that.element,q,result.suggestions)}).fail(function(jqXHR,textStatus,errorThrown){options.onSearchError.call(that.element,q,jqXHR,textStatus,errorThrown)})}},set_serviceUrl:function(){var test=this.options.serviceUrl;console.log(test)},get_serviceUrl:function(q){var serviceUrl=this.options.serviceUrl;return q=encodeURIComponent(q),"/"+serviceUrl+"/"+q+"~"},isBadQuery:function(q){if(!this.options.preventBadQueries)return!1;for(var badQueries=this.badQueries,i=badQueries.length;i--;)if(0===q.indexOf(badQueries[i]))return!0;return!1},hide:function(){var that=this;that.visible=!1,that.selectedIndex=-1,$(that.suggestionsContainer).hide(),that.signalHint(null)},suggest:function(){if(0===this.suggestions.length)return this.hide(),void 0;var index,width,that=this,options=that.options,formatResult=options.formatResult,value=that.getQuery(that.currentValue),className=that.classes.suggestion,classSelected=that.classes.selected,container=$(that.suggestionsContainer),beforeRender=options.beforeRender,html="";return options.triggerSelectOnValidInput&&(index=that.findSuggestionIndex(value),-1!==index)?(that.select(index),void 0):($.each(that.suggestions,function(i,suggestion){html+='<div class="'+className+'" data-index="'+i+'">'+formatResult(suggestion,value)+"</div>"}),"auto"===options.width&&(width=that.el.outerWidth()-2+61,container.width(width>0?width:300)),container.html(html),options.autoSelectFirst&&(that.selectedIndex=0,container.children().first().addClass(classSelected)),$.isFunction(beforeRender)&&beforeRender.call(that.element,container),container.show(),that.visible=!0,that.findBestHint(),void 0)},findBestHint:function(){var that=this,value=that.el.val().toLowerCase(),bestMatch=null;value&&($.each(that.suggestions,function(i,suggestion){var foundMatch=0===suggestion.value.toLowerCase().indexOf(value);return foundMatch&&(bestMatch=suggestion),!foundMatch}),that.signalHint(bestMatch))},signalHint:function(suggestion){var hintValue="",that=this;suggestion&&(hintValue=that.currentValue+suggestion.value.substr(that.currentValue.length)),that.hintValue!==hintValue&&(that.hintValue=hintValue,that.hint=suggestion,(this.options.onHint||$.noop)(hintValue))},verifySuggestionsFormat:function(suggestions){return suggestions.length&&"string"==typeof suggestions[0]?$.map(suggestions,function(value){return{value:value,data:null}}):suggestions},processResponse:function(result,originalQuery,cacheKey){var that=this,options=that.options;result.suggestions=that.verifySuggestionsFormat(result.suggestions),options.noCache||(that.cachedResponse[cacheKey]=result,options.preventBadQueries&&0===result.suggestions.length&&that.badQueries.push(originalQuery)),originalQuery===that.getQuery(that.currentValue)&&(that.suggestions=result.suggestions,that.suggest())},activate:function(index){var activeItem,that=this,selected=that.classes.selected,container=$(that.suggestionsContainer),children=container.children();return container.children("."+selected).removeClass(selected),that.selectedIndex=index,-1!==that.selectedIndex&&children.length>that.selectedIndex?(activeItem=children.get(that.selectedIndex),$(activeItem).addClass(selected),activeItem):null},selectHint:function(){var that=this,i=$.inArray(that.hint,that.suggestions);that.select(i)},select:function(i){var that=this;that.hide(),that.onSelect(i)},moveUp:function(){var that=this;if(-1!==that.selectedIndex)return 0===that.selectedIndex?($(that.suggestionsContainer).children().first().removeClass(that.classes.selected),that.selectedIndex=-1,that.el.val(that.currentValue),that.findBestHint(),void 0):(that.adjustScroll(that.selectedIndex-1),void 0)},moveDown:function(){var that=this;that.selectedIndex!==that.suggestions.length-1&&that.adjustScroll(that.selectedIndex+1)},adjustScroll:function(index){var offsetTop,upperBound,lowerBound,that=this,activeItem=that.activate(index),heightDelta=25;activeItem&&(offsetTop=activeItem.offsetTop,upperBound=$(that.suggestionsContainer).scrollTop(),lowerBound=upperBound+that.options.maxHeight-heightDelta,upperBound>offsetTop?$(that.suggestionsContainer).scrollTop(offsetTop):offsetTop>lowerBound&&$(that.suggestionsContainer).scrollTop(offsetTop-that.options.maxHeight+heightDelta),that.signalHint(null))},onSelect:function(index){var that=this,onSelectCallback=that.options.onSelect,suggestion=that.suggestions[index];if(that.currentValue=that.getValue(suggestion.value),$.isFunction(onSelectCallback)){var old_val=that.el.val(),onSelectReturn_val=onSelectCallback.call(that.element,suggestion),Selected_val=that.currentValue;if(old_val.length>2){var last_chr=old_val.substring(0,2);"#!"==last_chr&&(old_val=old_val.substring(2,old_val.length))}if(old_val!==Selected_val)return that.el.val(onSelectReturn_val),that.findBestHint(),that.onValueChange(),onSelectReturn_val.length>2&&(last_chr=onSelectReturn_val.substring(0,2),"#!"==last_chr&&(onSelectReturn_val=onSelectReturn_val.substring(2,onSelectReturn_val.length))),that.el.val(onSelectReturn_val),void 0;that.el.val(old_val)}that.currentValue!==that.el.val()&&that.el.val(that.currentValue),that.signalHint(null),that.suggestions=[],that.selection=suggestion},getValue:function(value){var currentValue,parts,that=this,delimiter=that.options.delimiter;return delimiter?(currentValue=that.currentValue,parts=currentValue.split(delimiter),1===parts.length?value:currentValue.substr(0,currentValue.length-parts[parts.length-1].length)+value):value},dispose:function(){var that=this;that.el.off(".autocomplete").removeData("autocomplete"),that.disableKillerFn(),$(window).off("resize.autocomplete",that.fixPositionCapture),$(that.suggestionsContainer).remove()}},$.fn.autocomplete=function(options,args){var dataKey="autocomplete";return 0===arguments.length?this.first().data(dataKey):this.each(function(){var inputElement=$(this),instance=inputElement.data(dataKey);"string"==typeof options?instance&&"function"==typeof instance[options]&&instance[options](args):(instance&&instance.dispose&&instance.dispose(),instance=new Autocomplete(this,options),inputElement.data(dataKey,instance))})}}),function($){"use strict";function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(context,args)}}function uniqueId(prefix){var id=++uniqueIdCounter;return(null==prefix?"rmjs-":prefix)+""+id}function setBoxHeights(element){var el=element.clone().css({height:"auto",width:element.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(element),expandedHeight=el.outerHeight(),cssMaxHeight=parseInt(el.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),defaultHeight=element.data("defaultHeight");el.remove();var collapsedHeight=element.data("collapsedHeight")||defaultHeight;cssMaxHeight?cssMaxHeight>collapsedHeight&&(collapsedHeight=cssMaxHeight):collapsedHeight=defaultHeight,element.data({expandedHeight:expandedHeight,maxHeight:cssMaxHeight,collapsedHeight:collapsedHeight}).css({maxHeight:"none"})}function embedCSS(options){if(!cssEmbedded[options.selector]){var styles=" ";options.embedCSS&&""!==options.blockCSS&&(styles+=options.selector+" + [data-readmore-toggle], "+options.selector+"[data-readmore]{"+options.blockCSS+"}"),styles+=options.selector+"[data-readmore]{"+"transition: height "+options.speed+"ms;"+"overflow: hidden;"+"}",function(d,u){var css=d.createElement("style");css.type="text/css",css.styleSheet?css.styleSheet.cssText=u:css.appendChild(d.createTextNode(u)),d.getElementsByTagName("head")[0].appendChild(css)}(document,styles),cssEmbedded[options.selector]=!0}}function Readmore(element,options){var $this=this;this.element=element,this.options=$.extend({},defaults,options),$(this.element).data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),embedCSS(this.options),this._defaults=defaults,this._name=readmore,window.addEventListener("load",function(){$this.init()})}var readmore="readmore",defaults={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,beforeToggle:function(){},afterToggle:function(){}},cssEmbedded={},uniqueIdCounter=0,resizeBoxes=debounce(function(){$("[data-readmore]").each(function(){var current=$(this),isExpanded="true"===current.attr("aria-expanded");setBoxHeights(current),current.css({height:current.data(isExpanded?"expandedHeight":"collapsedHeight")})})},100);Readmore.prototype={init:function(){var $this=this;$(this.element).each(function(){var current=$(this);setBoxHeights(current);var collapsedHeight=current.data("collapsedHeight"),heightMargin=current.data("heightMargin");if(collapsedHeight+heightMargin>=current.outerHeight(!0))return!0;var id=current.attr("id")||uniqueId(),useLink=$this.options.startOpen?$this.options.lessLink:$this.options.moreLink;current.attr({"data-readmore":"","aria-expanded":!1,id:id}),current.after($(useLink).on("click",function(event){$this.toggle(this,current[0],event)}).attr({"data-readmore-toggle":"","aria-controls":id})),$this.options.startOpen||current.css({height:collapsedHeight})}),window.addEventListener("resize",function(){resizeBoxes()})},toggle:function(trigger,element,event){event&&event.preventDefault(),trigger||(trigger=$('[aria-controls="'+this.element.id+'"]')[0]),element||(element=this.element);var $this=this,$element=$(element),newHeight="",newLink="",expanded=!1,collapsedHeight=$element.data("collapsedHeight");
collapsedHeight>=$element.height()?(newHeight=$element.data("expandedHeight")+"px",newLink="lessLink",expanded=!0):(newHeight=collapsedHeight,newLink="moreLink"),$this.options.beforeToggle(trigger,element,!expanded),$element.css({height:newHeight}),$element.on("transitionend",function(){$this.options.afterToggle(trigger,element,expanded),$(this).attr({"aria-expanded":expanded}).off("transitionend")}),$(trigger).replaceWith($($this.options[newLink]).on("click",function(event){$this.toggle(this,element,event)}).attr({"data-readmore-toggle":"","aria-controls":$element.attr("id")}))},destroy:function(){$(this.element).each(function(){var current=$(this);current.attr({"data-readmore":null,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove(),current.removeData()})}},$.fn.readmore=function(options){var args=arguments,selector=this.selector;return options=options||{},"object"==typeof options?this.each(function(){if($.data(this,"plugin_"+readmore)){var instance=$.data(this,"plugin_"+readmore);instance.destroy.apply(instance)}options.selector=selector,$.data(this,"plugin_"+readmore,new Readmore(this,options))}):"string"==typeof options&&"_"!==options[0]&&"init"!==options?this.each(function(){var instance=$.data(this,"plugin_"+readmore);instance instanceof Readmore&&"function"==typeof instance[options]&&instance[options].apply(instance,Array.prototype.slice.call(args,1))}):void 0}}(jQuery),!function(t,e){function n(t,e,n){var r=t.children(),o=!1;t.empty();for(var i=0,d=r.length;d>i;i++){var l=r.eq(i);if(t.append(l),n&&t.append(n),a(t,e)){l.remove(),o=!0;break}n&&n.detach()}return o}function r(e,n,i,d,l){var s=!1,c="a table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",u="script, .dotdotdot-keep";return e.contents().detach().each(function(){var f=this,h=t(f);if(f===void 0||3==f.nodeType&&0==t.trim(f.data).length)return!0;if(h.is(u))e.append(h);else{if(s)return!0;e.append(h),!l||h.is(d.after)||h.find(d.after).length||e[e.is(c)?"after":"append"](l),a(i,d)&&(s=3==f.nodeType?o(h,n,i,d,l):r(h,n,i,d,l),s||(h.detach(),s=!0)),s||l&&l.detach()}}),s}function o(e,n,r,o,d){var c=e[0];if(!c)return!1;var f=s(c),h=-1!==f.indexOf(" ")?" ":"　",p="letter"==o.wrap?"":h,g=f.split(p),v=-1,w=-1,b=0,y=g.length-1;for(o.fallbackToLetter&&0==b&&0==y&&(p="",g=f.split(p),y=g.length-1);y>=b&&(0!=b||0!=y);){var m=Math.floor((b+y)/2);if(m==w)break;w=m,l(c,g.slice(0,w+1).join(p)+o.ellipsis),a(r,o)?(y=w,o.fallbackToLetter&&0==b&&0==y&&(p="",g=g[0].split(p),v=-1,w=-1,b=0,y=g.length-1)):(v=w,b=w)}if(-1==v||1==g.length&&0==g[0].length){var x=e.parent();e.detach();var T=d&&d.closest(x).length?d.length:0;x.contents().length>T?c=u(x.contents().eq(-1-T),n):(c=u(x,n,!0),T||x.detach()),c&&(f=i(s(c),o),l(c,f),T&&d&&t(c).parent().append(d))}else f=i(g.slice(0,v+1).join(p),o),l(c,f);return!0}function a(t,e){return t.innerHeight()>e.maxHeight}function i(e,n){for(;t.inArray(e.slice(-1),n.lastCharacter.remove)>-1;)e=e.slice(0,-1);return 0>t.inArray(e.slice(-1),n.lastCharacter.noEllipsis)&&(e+=n.ellipsis),e}function d(t){return{width:t.innerWidth(),height:t.innerHeight()}}function l(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function s(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function c(t){do t=t.previousSibling;while(t&&1!==t.nodeType&&3!==t.nodeType);return t}function u(e,n,r){var o,a=e&&e[0];if(a){if(!r){if(3===a.nodeType)return a;if(t.trim(e.text()))return u(e.contents().last(),n)}for(o=c(a);!o;){if(e=e.parent(),e.is(n)||!e.length)return!1;o=c(e[0])}if(o)return u(t(o),n)}return!1}function f(e,n){return e?"string"==typeof e?(e=t(e,n),e.length?e:!1):e.jquery?e:!1:!1}function h(t){for(var e=t.innerHeight(),n=["paddingTop","paddingBottom"],r=0,o=n.length;o>r;r++){var a=parseInt(t.css(n[r]),10);isNaN(a)&&(a=0),e-=a}return e}if(!t.fn.dotdotdot){t.fn.dotdotdot=function(e){if(0==this.length)return t.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){t(this).dotdotdot(e)});var o=this;o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(e,d){e.preventDefault(),e.stopPropagation(),l.maxHeight="number"==typeof l.height?l.height:h(o),l.maxHeight+=l.tolerance,d!==void 0&&(("string"==typeof d||d instanceof HTMLElement)&&(d=t("<div />").append(d).contents()),d instanceof t&&(i=d)),g=o.wrapInner('<div class="dotdotdot" />').children(),g.contents().detach().end().append(i.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var c=!1,u=!1;return s.afterElement&&(c=s.afterElement.clone(!0),c.show(),s.afterElement.detach()),a(g,l)&&(u="children"==l.wrap?n(g,l,c):r(g,o,g,l,c)),g.replaceWith(g.contents()),g=null,t.isFunction(l.callback)&&l.callback.call(o[0],u,i),s.isTruncated=u,u}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],s.isTruncated),s.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],i),i}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(i).attr("style",o.data("dotdotdot-style")||"").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){if(o.unwatch(),"window"==l.watch){var e=t(window),n=e.width(),r=e.height();e.bind("resize.dot"+s.dotId,function(){n==e.width()&&r==e.height()&&l.windowResizeFix||(n=e.width(),r=e.height(),u&&clearInterval(u),u=setTimeout(function(){o.trigger("update.dot")},100))})}else c=d(o),u=setInterval(function(){if(o.is(":visible")){var t=d(o);(c.width!=t.width||c.height!=t.height)&&(o.trigger("update.dot"),c=t)}},500);return o},o.unwatch=function(){return t(window).unbind("resize.dot"+s.dotId),u&&clearInterval(u),o};var i=o.contents(),l=t.extend(!0,{},t.fn.dotdotdot.defaults,e),s={},c={},u=null,g=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=t.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),s.afterElement=f(l.after,o),s.isTruncated=!1,s.dotId=p++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&o.watch(),o},t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},t.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},t.fn.dotdotdot.debug=function(){};var p=1,g=t.fn.html;t.fn.html=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?this.trigger("update",[n]):g.apply(this,arguments)};var v=t.fn.text;t.fn.text=function(n){return n!=e&&!t.isFunction(n)&&this.data("dotdotdot")?(n=t("<div />").text(n).html(),this.trigger("update",[n])):v.apply(this,arguments)}}}(jQuery),$(document).ready(function(){var dev=!1;window.console||(console={}),console.log=console.log||function(){},console.warn=console.warn||function(){},console.error=console.error||function(){},console.info=console.info||function(){},$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(function(){$('[data-toggle="popover"]').popover()}),dev&&console.log("autocomplete init"),$("#autocomplete-ajax").autocomplete({paramName:"suggest",serviceUrl:"suggest",preventBadQueries:!1,tabDisabled:!0,autoSelectFirst:!1,deferRequestBy:800,noCache:!0,triggerSelectOnValidInput:!1,populateTextField:!1,onSearchStart:function(query){dev&&console.log("autocomplete onSearchStart"),dev&&console.log(query);var len=query.suggest.trimLeft();return len=len.length,dev&&console.log("len="+len),2>len?!1:($("#autocomplete-ajax").css({background:"url('/app/ot/assets/img/searchip.gif') no-repeat right center"}),$("#str_status_msg").html($("#str_status_msg_onSearchStart").html()+"&nbsp;"),void 0)},onSearchComplete:function(){dev&&console.log("autocomplete onSearchComplete"),remove_search_box_glow(),$("#autocomplete-ajax").css({background:"url('app/ot/assets/img/searchoff.gif') no-repeat right center"})},onSelect:function(suggestion){return document.getElementById("autocomplete-ajax").focus(),$("#autocomplete-ajax").autocomplete().hide(),$("#autocomplete-ajax").css({background:"url('app/ot/assets/img/searchoff.gif') no-repeat right center"}),$("#str_status_msg").html($("#str_status_msg_onSelect").html()+"&nbsp;"),$("#autocomplete-suggestions").hide(),$("#autocomplete-ajax").focus(),"#!"+suggestion.value},transformResult:function(response_raw){dev&&console.log("autocomplete transformResult"),response="string"==typeof response_raw?$.parseJSON(response_raw):response_raw;var suggestions=response.suggestions;if(!suggestions)return response;if(!suggestions.length)return response;response.suggestions.forEach(function(value,index,theArray){theArray[index]=str_replace('"','"',value)});var message=decodeURIComponent(suggestions.pop());return message=str_replace(" ","",message),set_str_status_msg(message),1==suggestions.length&&$("#autocomplete-ajax").autocomplete().hide(),response.suggestions=suggestions,response}})}),$(document).on("keypress","#autocomplete-ajax",function(e){return 13==e.which?(searchSubmit(),!1):void 0}),$("#submit-button").click(function(event){return event.preventDefault(),searchSubmit(),!1}),$(document).ready(function(){var cookieDuration="365",dev=!1;dev&&console.log("Cookie Law Init"),dev&&eraseCookie("CookieComplianceCookie",dev),"On"!=getCookieValue(dev)?($("#cookie-law").show(),createCookie(cookieDuration,dev),setTimeout(function(){dev&&console.log("Cookie Law setTimeout fired"),$("#cookie-law").fadeOut()},2e4)):$("#cookie-law").hide()}),function(){if(!document.addEventListener||!document.querySelector)return!1;var deferImage=function(element){var i,len,attr,img=new Image,placehold=element.children[0];for(element.className+=" is-loading",img.onload=function(){element.className=element.className.replace("is-loading","is-loaded");try{element.replaceChild(img,placehold)}catch(err){alert(err)}},i=0,len=placehold.attributes.length;len>i;i++)attr=placehold.attributes[i],attr.name.match(/^data-/)&&img.setAttribute(attr.name.replace("data-",""),attr.value)};document.addEventListener("DOMContentLoaded",function(){for(var placeholders=document.querySelectorAll(".defer-image"),i=0,len=placeholders.length;len>i;i++)deferImage(placeholders[i])})}(),$(".help").click(function(event){event.preventDefault();var id=$(this).attr("id").replace("_off","").replace("_on",""),onoff=$(this).attr("id").replace(id,"");"_off"==onoff&&(console.log("Help off called"),console.log("Hidding:'"+id+"'"),$("#"+id).hide(),$("#"+id+"_sign").show()),"_on"==onoff&&(console.log("Help on called"),console.log("Showing:'"+id+"'"),$("#"+id).show(),$("#"+id+"_sign").hide()),$.request("onHelp",{data:{store:id,state:onoff}})}),!function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery"),require("bootstrap")):"function"==typeof define&&define.amd?define("bootstrap-dialog",["jquery"],function(t){return e(t)}):t.BootstrapDialog=e(t.jQuery)}(this,function(t){"use strict";var e=t.fn.modal.Constructor,n=function(t,n){e.call(this,t,n)};n.getModalVersion=function(){var e=null;return e=t.fn.modal.Constructor.VERSION===void 0?"v3.1":/3\.2\.\d+/.test(t.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(t.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"},n.ORIGINAL_BODY_PADDING=t("body").css("padding-right")||0,n.METHODS_TO_OVERRIDE={},n.METHODS_TO_OVERRIDE["v3.1"]={},n.METHODS_TO_OVERRIDE["v3.2"]={hide:function(e){if(e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()){this.isShown=!1;var n=this.getGlobalOpenedDialogs();0===n.length&&this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()}}},n.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var t=n.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},resetScrollbar:function(){var t=this.getGlobalOpenedDialogs();0===t.length&&this.$body.css("padding-right",n.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide(),this.backdrop(t.proxy(function(){var t=this.getGlobalOpenedDialogs();0===t.length&&this.$body.removeClass("modal-open"),this.resetAdjustments(),this.resetScrollbar(),this.$element.trigger("hidden.bs.modal")},this))}},n.METHODS_TO_OVERRIDE["v3.3.4"]=t.extend({},n.METHODS_TO_OVERRIDE["v3.3"]),n.prototype={constructor:n,getGlobalOpenedDialogs:function(){var e=[];return t.each(o.dialogs,function(t,n){n.isRealized()&&n.isOpened()&&e.push(n)}),e}},n.prototype=t.extend(n.prototype,e.prototype,n.METHODS_TO_OVERRIDE[n.getModalVersion()]);var o=function(e){this.defaultOptions=t.extend(!0,{id:o.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},o.defaultOptions),this.indexedButtons={},this.registeredButtonHotkeys={},this.draggableData={isMouseDown:!1,mouseOffset:{}},this.realized=!1,this.opened=!1,this.initOptions(e),this.holdThisInstance()};return o.BootstrapDialogModal=n,o.NAMESPACE="bootstrap-dialog",o.TYPE_DEFAULT="type-default",o.TYPE_INFO="type-info",o.TYPE_PRIMARY="type-primary",o.TYPE_SUCCESS="type-success",o.TYPE_WARNING="type-warning",o.TYPE_DANGER="type-danger",o.DEFAULT_TEXTS={},o.DEFAULT_TEXTS[o.TYPE_DEFAULT]="Information",o.DEFAULT_TEXTS[o.TYPE_INFO]="Information",o.DEFAULT_TEXTS[o.TYPE_PRIMARY]="Information",o.DEFAULT_TEXTS[o.TYPE_SUCCESS]="Success",o.DEFAULT_TEXTS[o.TYPE_WARNING]="Warning",o.DEFAULT_TEXTS[o.TYPE_DANGER]="Danger",o.DEFAULT_TEXTS.OK="OK",o.DEFAULT_TEXTS.CANCEL="Cancel",o.DEFAULT_TEXTS.CONFIRM="Confirmation",o.SIZE_NORMAL="size-normal",o.SIZE_SMALL="size-small",o.SIZE_WIDE="size-wide",o.SIZE_LARGE="size-large",o.BUTTON_SIZES={},o.BUTTON_SIZES[o.SIZE_NORMAL]="",o.BUTTON_SIZES[o.SIZE_SMALL]="",o.BUTTON_SIZES[o.SIZE_WIDE]="",o.BUTTON_SIZES[o.SIZE_LARGE]="btn-lg",o.ICON_SPINNER="glyphicon glyphicon-asterisk",o.defaultOptions={type:o.TYPE_PRIMARY,size:o.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,closeByKeyboard:!0,spinicon:o.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!0,description:"",tabindex:-1},o.configDefaultOptions=function(e){o.defaultOptions=t.extend(!0,o.defaultOptions,e)},o.dialogs={},o.openAll=function(){t.each(o.dialogs,function(t,e){e.open()})},o.closeAll=function(){t.each(o.dialogs,function(t,e){e.close()})},o.moveFocus=function(){var e=null;t.each(o.dialogs,function(t,n){e=n}),null!==e&&e.isRealized()&&e.getModal().focus()},o.METHODS_TO_OVERRIDE={},o.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(t){t.target===this&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByBackdrop()&&t.data.dialog.close()}),this},updateZIndex:function(){var e=1040,n=1050,i=0;t.each(o.dialogs,function(){i++});var s=this.getModal(),a=s.data("bs.modal").$backdrop;return s.css("z-index",n+20*(i-1)),a.css("z-index",e+20*(i-1)),this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this.updateZIndex(),this}},o.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:o.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:o.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:o.METHODS_TO_OVERRIDE["v3.1"].open},o.METHODS_TO_OVERRIDE["v3.3"]={},o.METHODS_TO_OVERRIDE["v3.3.4"]=t.extend({},o.METHODS_TO_OVERRIDE["v3.1"]),o.prototype={constructor:o,initOptions:function(e){return this.options=t.extend(!0,this.defaultOptions,e),this},holdThisInstance:function(){return o.dialogs[this.getId()]=this,this},initModalStuff:function(){return this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter()),this.getModal().append(this.getModalDialog()),this.getModalDialog().append(this.getModalContent()),this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter()),this},createModal:function(){var e=t('<div class="modal" role="dialog" aria-hidden="true"></div>');return e.prop("id",this.getId()),e.attr("aria-labelledby",this.getId()+"_title"),e},getModal:function(){return this.$modal},setModal:function(t){return this.$modal=t,this},createModalDialog:function(){return t('<div class="modal-dialog"></div>')},getModalDialog:function(){return this.$modalDialog},setModalDialog:function(t){return this.$modalDialog=t,this},createModalContent:function(){return t('<div class="modal-content"></div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(t){return this.$modalContent=t,this},createModalHeader:function(){return t('<div class="modal-header"></div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(t){return this.$modalHeader=t,this},createModalBody:function(){return t('<div class="modal-body"></div>')},getModalBody:function(){return this.$modalBody},setModalBody:function(t){return this.$modalBody=t,this},createModalFooter:function(){return t('<div class="modal-footer"></div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(t){return this.$modalFooter=t,this},createDynamicContent:function(t){var e=null;return e="function"==typeof t?t.call(t,this):t,"string"==typeof e&&(e=this.formatStringContent(e)),e},formatStringContent:function(t){return this.options.nl2br?t.replace(/\r\n/g,"<br />").replace(/[\r\n]/g,"<br />"):t},setData:function(t,e){return this.options.data[t]=e,this},getData:function(t){return this.options.data[t]},setId:function(t){return this.options.id=t,this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(t){return this.options.type=t,this.updateType(),this},updateType:function(){if(this.isRealized()){var t=[o.TYPE_DEFAULT,o.TYPE_INFO,o.TYPE_PRIMARY,o.TYPE_SUCCESS,o.TYPE_WARNING,o.TYPE_DANGER];this.getModal().removeClass(t.join(" ")).addClass(this.getType())}return this},getSize:function(){return this.options.size},setSize:function(t){return this.options.size=t,this.updateSize(),this},updateSize:function(){if(this.isRealized()){var e=this;this.getModal().removeClass(o.SIZE_NORMAL).removeClass(o.SIZE_SMALL).removeClass(o.SIZE_WIDE).removeClass(o.SIZE_LARGE),this.getModal().addClass(this.getSize()),this.getModalDialog().removeClass("modal-sm"),this.getSize()===o.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm"),this.getModalDialog().removeClass("modal-lg"),this.getSize()===o.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg"),t.each(this.options.buttons,function(n,o){var i=e.getButton(o.id),s=["btn-lg","btn-sm","btn-xs"],a=!1;if("string"==typeof o.cssClass){var d=o.cssClass.split(" ");t.each(d,function(e,n){-1!==t.inArray(n,s)&&(a=!0)})}a||(i.removeClass(s.join(" ")),i.addClass(e.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(t){return this.options.cssClass=t,this},getTitle:function(){return this.options.title},setTitle:function(t){return this.options.title=t,this.updateTitle(),this},updateTitle:function(){if(this.isRealized()){var t=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(t).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(t){return this.options.message=t,this.updateMessage(),this},updateMessage:function(){if(this.isRealized()){var t=this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(t)}return this},isClosable:function(){return this.options.closable},setClosable:function(t){return this.options.closable=t,this.updateClosable(),this},setCloseByBackdrop:function(t){return this.options.closeByBackdrop=t,this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(t){return this.options.closeByKeyboard=t,this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},isAnimate:function(){return this.options.animate},setAnimate:function(t){return this.options.animate=t,this},updateAnimate:function(){return this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate()),this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(t){return this.options.spinicon=t,this},addButton:function(t){return this.options.buttons.push(t),this},addButtons:function(e){var n=this;return t.each(e,function(t,e){n.addButton(e)}),this},getButtons:function(){return this.options.buttons},setButtons:function(t){return this.options.buttons=t,this.updateButtons(),this},getButton:function(t){return this.indexedButtons[t]!==void 0?this.indexedButtons[t]:null},getButtonSize:function(){return o.BUTTON_SIZES[this.getSize()]!==void 0?o.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){return this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons())),this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(t){this.options.autodestroy=t},getDescription:function(){return this.options.description},setDescription:function(t){return this.options.description=t,this},setTabindex:function(t){return this.options.tabindex=t,this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){return this.isRealized()&&this.getModal().attr("tabindex",this.getTabindex()),this},getDefaultText:function(){return o.DEFAULT_TEXTS[this.getType()]},getNamespace:function(t){return o.NAMESPACE+"-"+t},createHeaderContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("header")),e.append(this.createTitleContent()),e.prepend(this.createCloseButton()),e},createTitleContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("title")),e},createCloseButton:function(){var e=t("<div></div>");e.addClass(this.getNamespace("close-button"));var n=t('<button class="close">&times;</button>');return e.append(n),e.on("click",{dialog:this},function(t){t.data.dialog.close()}),e},createBodyContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("body")),e.append(this.createMessageContent()),e},createMessageContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("message")),e},createFooterContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("footer")),e},createFooterButtons:function(){var e=this,n=t("<div></div>");return n.addClass(this.getNamespace("footer-buttons")),this.indexedButtons={},t.each(this.options.buttons,function(t,i){i.id||(i.id=o.newGuid());var s=e.createButton(i);e.indexedButtons[i.id]=s,n.append(s)}),n},createButton:function(e){var n=t('<button class="btn"></button>');return n.prop("id",e.id),n.data("button",e),e.icon!==void 0&&""!==t.trim(e.icon)&&n.append(this.createButtonIcon(e.icon)),e.label!==void 0&&n.append(e.label),n.addClass(e.cssClass!==void 0&&""!==t.trim(e.cssClass)?e.cssClass:"btn-default"),e.hotkey!==void 0&&(this.registeredButtonHotkeys[e.hotkey]=n),n.on("click",{dialog:this,$button:n,button:e},function(t){var e=t.data.dialog,n=t.data.$button,o=n.data("button");"function"==typeof o.action&&o.action.call(n,e,t),o.autospin&&n.toggleSpin(!0)}),this.enhanceButton(n),n},enhanceButton:function(t){return t.dialog=this,t.toggleEnable=function(t){var e=this;return t!==void 0?e.prop("disabled",!t).toggleClass("disabled",!t):e.prop("disabled",!e.prop("disabled")),e},t.enable=function(){var t=this;return t.toggleEnable(!0),t},t.disable=function(){var t=this;return t.toggleEnable(!1),t},t.toggleSpin=function(e){var n=this,o=n.dialog,i=n.find("."+o.getNamespace("button-icon"));return e===void 0&&(e=!(t.find(".icon-spin").length>0)),e?(i.hide(),t.prepend(o.createButtonIcon(o.getSpinicon()).addClass("icon-spin"))):(i.show(),t.find(".icon-spin").remove()),n},t.spin=function(){var t=this;return t.toggleSpin(!0),t},t.stopSpin=function(){var t=this;return t.toggleSpin(!1),t},this},createButtonIcon:function(e){var n=t("<span></span>");return n.addClass(this.getNamespace("button-icon")).addClass(e),n},enableButtons:function(e){return t.each(this.indexedButtons,function(t,n){n.toggleEnable(e)}),this},updateClosable:function(){return this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable()),this},onShow:function(t){return this.options.onshow=t,this},onShown:function(t){return this.options.onshown=t,this},onHide:function(t){return this.options.onhide=t,this},onHidden:function(t){return this.options.onhidden=t,this},isRealized:function(){return this.realized},setRealized:function(t){return this.realized=t,this},isOpened:function(){return this.opened},setOpened:function(t){return this.opened=t,this},handleModalEvents:function(){return this.getModal().on("show.bs.modal",{dialog:this},function(t){var e=t.data.dialog;if(e.setOpened(!0),e.isModalEvent(t)&&"function"==typeof e.options.onshow){var n=e.options.onshow(e);return n===!1&&e.setOpened(!1),n}}),this.getModal().on("shown.bs.modal",{dialog:this},function(t){var e=t.data.dialog;e.isModalEvent(t)&&"function"==typeof e.options.onshown&&e.options.onshown(e)}),this.getModal().on("hide.bs.modal",{dialog:this},function(t){var e=t.data.dialog;if(e.setOpened(!1),e.isModalEvent(t)&&"function"==typeof e.options.onhide){var n=e.options.onhide(e);return n===!1&&e.setOpened(!0),n}}),this.getModal().on("hidden.bs.modal",{dialog:this},function(e){var n=e.data.dialog;n.isModalEvent(e)&&"function"==typeof n.options.onhidden&&n.options.onhidden(n),n.isAutodestroy()&&(delete o.dialogs[n.getId()],t(this).remove()),o.moveFocus()}),this.handleModalBackdropEvent(),this.getModal().on("keyup",{dialog:this},function(t){27===t.which&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByKeyboard()&&t.data.dialog.close()}),this.getModal().on("keyup",{dialog:this},function(e){var n=e.data.dialog;if(n.registeredButtonHotkeys[e.which]!==void 0){var o=t(n.registeredButtonHotkeys[e.which]);!o.prop("disabled")&&o.focus().trigger("click")}}),this},handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(e){t(e.target).hasClass("modal-backdrop")&&e.data.dialog.isClosable()&&e.data.dialog.canCloseByBackdrop()&&e.data.dialog.close()}),this},isModalEvent:function(t){return t.namespace!==void 0&&"bs.modal"===t.namespace},makeModalDraggable:function(){return this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",{dialog:this},function(t){var e=t.data.dialog;e.draggableData.isMouseDown=!0;var n=e.getModalDialog().offset();e.draggableData.mouseOffset={top:t.clientY-n.top,left:t.clientX-n.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(t){t.data.dialog.draggableData.isMouseDown=!1}),t("body").on("mousemove",{dialog:this},function(t){var e=t.data.dialog;e.draggableData.isMouseDown&&e.getModalDialog().offset({top:t.clientY-e.draggableData.mouseOffset.top,left:t.clientX-e.draggableData.mouseOffset.left})})),this},realize:function(){return this.initModalStuff(),this.getModal().addClass(o.NAMESPACE).addClass(this.getCssClass()),this.updateSize(),this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription()),this.getModalFooter().append(this.createFooterContent()),this.getModalHeader().append(this.createHeaderContent()),this.getModalBody().append(this.createBodyContent()),this.getModal().data("bs.modal",new n(this.getModal(),{backdrop:"static",keyboard:!1,show:!1})),this.makeModalDraggable(),this.handleModalEvents(),this.setRealized(!0),this.updateButtons(),this.updateType(),this.updateTitle(),this.updateMessage(),this.updateClosable(),this.updateAnimate(),this.updateSize(),this.updateTabindex(),this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this},close:function(){return this.getModal().modal("hide"),this}},o.prototype=t.extend(o.prototype,o.METHODS_TO_OVERRIDE[n.getModalVersion()]),o.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=0|16*Math.random(),n="x"===t?e:8|3&e;return n.toString(16)})},o.show=function(t){return new o(t).open()},o.alert=function(){var e={},n={type:o.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:o.DEFAULT_TEXTS.OK,callback:null};return e="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?t.extend(!0,n,arguments[0]):t.extend(!0,n,{message:arguments[0],callback:arguments[1]!==void 0?arguments[1]:null}),new o({type:e.type,title:e.title,message:e.message,closable:e.closable,draggable:e.draggable,data:{callback:e.callback},onhide:function(t){!t.getData("btnClicked")&&t.isClosable()&&"function"==typeof t.getData("callback")&&t.getData("callback")(!1)},buttons:[{label:e.buttonLabel,action:function(t){t.setData("btnClicked",!0),"function"==typeof t.getData("callback")&&t.getData("callback")(!0),t.close()}}]}).open()},o.confirm=function(){var e={},n={type:o.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,btnCancelLabel:o.DEFAULT_TEXTS.CANCEL,btnOKLabel:o.DEFAULT_TEXTS.OK,btnOKClass:null,callback:null};return e="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?t.extend(!0,n,arguments[0]):t.extend(!0,n,{message:arguments[0],closable:!1,buttonLabel:o.DEFAULT_TEXTS.OK,callback:arguments[1]!==void 0?arguments[1]:null}),null===e.btnOKClass&&(e.btnOKClass=["btn",e.type.split("-")[1]].join("-")),new o({type:e.type,title:e.title,message:e.message,closable:e.closable,draggable:e.draggable,data:{callback:e.callback},buttons:[{label:e.btnCancelLabel,action:function(t){"function"==typeof t.getData("callback")&&t.getData("callback")(!1),t.close()}},{label:e.btnOKLabel,cssClass:e.btnOKClass,action:function(t){"function"==typeof t.getData("callback")&&t.getData("callback")(!0),t.close()}}]}).open()},o.warning=function(t){return new o({type:o.TYPE_WARNING,message:t}).open()},o.danger=function(t){return new o({type:o.TYPE_DANGER,message:t}).open()},o.success=function(t){return new o({type:o.TYPE_SUCCESS,message:t}).open()},o});